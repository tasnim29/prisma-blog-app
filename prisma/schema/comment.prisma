model Comment {
    id       String  @id @default(ulid())
    content  String  @db.Text
    authorId String
    postId   String
    post     Post    @relation(fields: [postId], references: [id], onDelete: Cascade)
    parentId String?
    //If parentId is null → this is a top-level comment 
    //If parentId has a value → this comment is a reply

    parent  Comment?  @relation("commentReplies", fields: [parentId], references: [id], onDelete: Cascade)
    replies Comment[] @relation("commentReplies")

    status    CommonStatus @default(APPROVED)
    createdAt DateTime     @default(now())
    updatedAt DateTime     @updatedAt

    @@index([postId])
    @@index([authorId])
    @@map("Comments")
}

enum CommonStatus {
    APPROVED
    REJECT
}
